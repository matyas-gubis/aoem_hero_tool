<div class="max-w-screen-lg h-screen mx-auto py-4 flex gap-4">
  <div class="h-full border bg-gray-900 border-gray-700 rounded p-4 w-1/6 flex flex-col gap-4">
    All Heroes
    <div *ngFor="let hero of heroes" draggable="true" (dragstart)="handleDragstart($event, hero)"
         (dragend)="handleDragEnd()">
      <div [style.background-color]="hero.rarity === Rarity.Legendary ? 'rgb(245 158 11)' : 'rgb(126 34 206)'"
           [style.background-image]="'url('+hero.image+')'"
           class="h-40 bg-cover bg-blend-normal bg-no-repeat border border-orange-500 rounded-t p-2">
        <img [src]="'assets/images/military_specialites/'+hero.militarySpeciality+'.png'"
             [alt]="hero.militarySpeciality" class="h-12">
      </div>
      <div class="border border-orange-500 rounded-b border-t-0 py-1 px-2">{{ hero.name }}</div>
    </div>
  </div>
  <div class="h-full border bg-gray-900 border-gray-700 rounded p-4 w-1/6 flex flex-row gap-4">
    My Heroes
  </div>
  <div class="h-full border bg-gray-900 border-gray-700 rounded p-4 w-4/6 flex flex-col gap-4 overflow-auto">
    Troops
    <div *ngFor="let troop of troops"
         class="border w-full bg-gray-900 border-gray-700 rounded p-4 flex flex-col gap-4">
      <div class="flex justify-between">
        <span>{{ troop.name || 'Troop ' + troop.id }}</span>
        <button (click)="handleRemoveTroop(troop.id)" class="text-red-500 hover:text-red-600">
          <i class="pi pi-trash"></i>
        </button>
      </div>
      <div class="flex flex-row gap-4">
        <div
          class="border bg-gray-800 border-gray-700 h-40 rounded w-1/3 bg-cover bg-no-repeat bg-top"
          [style.background-image]="'url('+troop.heroes.commander?.image+')'"
          (dragover)="handleDragOver($event, troop, 'commander')"
          (dragleave)="handleDragLeave($event)">
        </div>
        <div
          class="border bg-gray-800 border-gray-700 h-40 rounded w-1/3 bg-cover bg-no-repeat bg-top"
          [style.background-image]="'url('+troop.heroes.secondInAttack?.image+')'"
          (dragover)="handleDragOver($event, troop, 'secondInAttack')"
          (dragleave)="handleDragLeave($event)">
        </div>
        <div
          class="border bg-gray-800 border-gray-700 h-40 rounded w-1/3 bg-cover bg-no-repeat bg-top"
          [style.background-image]="'url('+troop.heroes.thirdInAttack?.image+')'"
          (dragover)="handleDragOver($event, troop, 'thirdInAttack')"
          (dragleave)="handleDragLeave($event)">
        </div>
      </div>
    </div>
    <div class="border w-full bg-gray-900 border-gray-700 rounded p-4 flex flex-col gap-4">
      <div class="flex flex-row justify-center items-center">
        <button
          (click)="handleTroopAddClicked()"
          class="w-10 h-10 flex justify-center items-center rounded-full border border-gray-700 hover:bg-gray-800">
          <i class="pi pi-plus"></i>
        </button>
      </div>
    </div>
  </div>
</div>
<p-toast></p-toast>
